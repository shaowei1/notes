# difference of redis and mongodb

Redis是Key-Value数据库，数据存放在内存中，查询和写入都是在内存中进行操作。当然Redis也支持持久化，只是持久化只是Redis的功能之一，并不是Redis的强项。通常，你可以把Redis称之为缓存。支持的数据类型丰富，包括字符串、哈希、列表、集合、有序集合，同时还支持基数统计，地理空间以及索引半径查询，数据流等。
MongoDB是面向文档数据库，功能强大，是非关系型数据库中最像关系型数据库的，处理增删改查也可以增加条件，类似于RDBMS一样灵活。
在存储方式上，Redis将数据放在内存中的，通过RDB或者AOF方式进行持久化。
而MongoDB实际上数据是存放在磁盘上的，只是通过mmap调用将数据映射到内存中，所以你可以将mmap理解成为加速的方式。mmap调用可以使得对普通文件的操作像是在内存中进行读写一样，这是因为它将文件映射到调用进程的地址空间中，实现了文件所在的磁盘物理地址与进程空间的虚拟地址一一映射的关系，这样就可以直接在内存中进行操作，然后写完成之后同步一下就可以存放到文件中，效率非常高。
不过在使用选择的时候，我们还是将 MongoDB 归为数据库，而Redis归为缓存。
总的来说，Redis就像是一架飞机一样，查询及写入性能极佳，但是存储的数据规模有限。
MongoDB就像是高铁一样，在处理货物（数据）的功能上强于Redis，同时能承载的数据量也很大，远高于Redis，但是查询及写入的效率不及Redis

# why redis use signal thread
1.单线程减少了cpu资源的争用，避免了上下文的切换。
2.基于内存读写，单线程读写耗时更少。

为啥redis单线程模型也能效率这么高？

1）纯内存操作
2）核心是基于非阻塞的IO多路复用机制
3）单线程反而避免了多线程的频繁上下文切换问题
